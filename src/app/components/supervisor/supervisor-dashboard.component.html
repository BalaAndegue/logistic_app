<div class="dashboard-container">
    <h2>Supervisor Operational Overview</h2>

    <div class="stats-grid" *ngIf="!loading && stats; else loadingTpl">
        <div class="card stat-card ready">
            <div class="icon-wrapper"><i class="bi bi-clock-history"></i></div>
            <div class="stat-info">
                <h3>{{ stats.readyToShip }}</h3>
                <p>Awaiting Assignment</p>
            </div>
        </div>

        <div class="card stat-card processing">
            <div class="icon-wrapper"><i class="bi bi-geo-alt"></i></div>
            <div class="stat-info">
                <h3>{{ stats.inProgress }}</h3>
                <p>Active Deliveries</p>
            </div>
        </div>

        <div class="card stat-card failed">
            <div class="icon-wrapper"><i class="bi bi-exclamation-triangle"></i></div>
            <div class="stat-info">
                <h3>{{ stats.pendingValidation }}</h3>
                <p>Pending Validation</p>
            </div>
        </div>

        <div class="card stat-card delivered">
            <div class="icon-wrapper"><i class="bi bi-shield-check"></i></div>
            <div class="stat-info">
                <h3>{{ stats.delivered }}</h3>
                <p>Validated Today</p>
            </div>
        </div>
    </div>

    <div class="charts-row">
        <div class="card chart-card">
            <div class="card-header">
                <h3>Hourly Delivery Performance</h3>
            </div>
            <div class="chart-container">
                <canvas baseChart [data]="lineChartData" [options]="lineChartOptions" [type]="lineChartType">
                </canvas>
            </div>
        </div>
    </div>
</div>

<ng-template #loadingTpl>
    <div class="loading-state text-center py-5">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2 text-muted">Fetching operational data...</p>
    </div>
</ng-template>